CREATE TABLE HOUSEIMAGES(
IMG_NO VARCHAR2(100) NOT NULL PRIMARY KEY,
HOUSE_NO VARCHAR2(100) NOT NULL,
IMG BLOB,
STATE VARCHAR2(50) NOT NULL,
INSERT_TIME TIMESTAMP,
CONSTRAINT FK_HOUSEIMG_HOUSEINFO FOREIGN KEY (HOUSE_NO) REFERENCES HOUSEINFO (HOUSE_NO)
);


CREATE TABLE ADVERTISEMENT(
AD_NO VARCHAR2(100) PRIMARY KEY NOT NULL,
PRD_NO VARCHAR2(10) NOT NULL,
EMP_NO VARCHAR2(10),
AD_TYPE VARCHAR2(100) NOT NULL,
AD_IMG BLOB,
APPLING_DATE TIMESTAMP,
AUDIT_DATE TIMESTAMP,
EXPIRATION_DATE TIMESTAMP,
CONSTRAINT FK_ADVERTISMENT_PRODUCT FOREIGN KEY (PRD_NO) REFERENCES PRODUCT (PRD_NO),
CONSTRAINT FK_ADVERTISMENT_EMPLOYEE FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO) 
);
 
CREATE TABLE ARTICLE(
ARTICLE_NO VARCHAR2(100) PRIMARY KEY NOT NULL,
RTR_NO VARCHAR2(10) NOT NULL,
ARTICLE_BODY CLOB,
POST_DATE TIMESTAMP NOT NULL,
UPDATE_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
ARTICLE_STATE VARCHAR2(30) NOT NULL,
CONSTRAINT FK_ARTICLE_REALTOR FOREIGN KEY (RTR_NO) REFERENCES REALTOR(RTR_NO)
);

CREATE TABLE FOLLOW_RTR(
RTR_NO VARCHAR2(10)NOT NULL ,
MEM_NO VARCHAR2(10)NOT NULL ,
STATE VARCHAR2(10),
FOLLOW_DATE TIMESTAMP,
CONSTRAINT PK_FOLLOW_RTR PRIMARY KEY(RTR_NO,MEM_NO)
);

CREATE TABLE PRDIMG (
IMG_NO VARCHAR2(10) NOT NULL,
PRD_NO VARCHAR2(10) NOT NULL,
IMG BLOB,
STATE VARCHAR2(50) NOT NULL,
INSERT_TIME TIMESTAMP,
CONSTRAINT PRDIMG_PK PRIMARY KEY(IMG_NO),
CONSTRAINT PRDIMG_PD_FK FOREIGN KEY(PRD_NO) REFERENCES PRODUCT(PRD_NO) 
);

CREATE SEQUENCE PRDIMG_SEQ
INCREMENT BY 1 
START WITH 1 
NOCACHE;


-------------------------------------------------蓋-----------------------------
--新聞種類---------------------------------------------------------------------------
CREATE TABLE NEWS_TYPE(
NTYPE_NO   VARCHAR2(10) NOT NULL,
NEWS_TYPE  VARCHAR2(30) NOT NULL,
CONSTRAINT PK_NEWS_TYPE PRIMARY KEY (NTYPE_NO)
);


--新聞----------------------------------------------------------------------------
CREATE TABLE NEWS(
NEWS_NO      VARCHAR2(10)   NOT NULL,
NTYPE_NO     VARCHAR2(10)   NOT NULL,
NEWS_TITLE   VARCHAR2(300)  NOT NULL,
NEWS_CONTENT CLOB,
NEWS_PHOTO   BLOB,
NEWS_STATE   VARCHAR2(30)   NOT NULL,
NEWS_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO       VARCHAR2(10)   NOT NULL,
CONSTRAINT FK_NEWS_NTYPE_NO FOREIGN KEY (NTYPE_NO) REFERENCES NEWS_TYPE (NTYPE_NO),
CONSTRAINT FK_NEWS_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_NEWS PRIMARY KEY (NEWS_NO)
);


--公告---------------------------------------------------------------------------
CREATE TABLE ANN(
ANN_NO      NUMBER(10)    NOT NULL,
ANN_TITLE   VARCHAR2(300) NOT NULL,
ANN_CONTENT CLOB          NOT NULL,
ANN_STATE   VARCHAR2(30)  NOT NULL,
ANN_DATE    TIMESTAMP     DEFAULT CURRENT_TIMESTAMP,
EMP_NO      VARCHAR2(10)  NOT NULL,
CONSTRAINT FK_ANN_EMP_NO  FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_ANN PRIMARY KEY (ANN_NO)
);


--問題種類------------------------------------------------------------------------
CREATE TABLE QA_TYPE(
QATYPE_NO  VARCHAR2(10) NOT NULL,
QA_TYPE    VARCHAR2(30) NOT NULL,
CONSTRAINT PK_QA_TYPE PRIMARY KEY (QATYPE_NO)
);


--常見問題-----------------------------------------------------------------------
CREATE TABLE QA(
QA_NO 	   NUMBER(10)    NOT NULL,
QATYPE_NO  VARCHAR2(10)  NOT NULL,
QA_TITLE   VARCHAR2(300) NOT NULL,
QA_CONTENT CLOB          NOT NULL,
QA_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO     VARCHAR2(10)  NOT NULL,
CONSTRAINT FK_QA_QATYPE_NO FOREIGN KEY (QATYPE_NO) REFERENCES QA_TYPE(QATYPE_NO),
CONSTRAINT FK_QA_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_QA PRIMARY KEY (QA_NO)
);


--促銷活動-----------------------------------------------------------------------
CREATE TABLE PROMO(
PROMO_NO      VARCHAR2(10)   NOT NULL,
PROMO_FROM    DATE           NOT NULL,
PROMO_TO      DATE           NOT NULL,
PROMO_NAME    VARCHAR2(100)  NOT NULL,
PROMO_CONTENT VARCHAR2(1500) NOT NULL,
PROMO_PHOTO   BLOB,
PROMO_STATE   VARCHAR2(30)   NOT NULL,
PROMO_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
EMP_NO        VARCHAR2(10)   NOT NULL,
CONSTRAINT FK_PROMO_EMP_NO FOREIGN KEY (EMP_NO) REFERENCES EMPLOYEE (EMP_NO),
CONSTRAINT PK_PROMO PRIMARY KEY (PROMO_NO)
);


--優惠卷------------------------------------------------------------------------
CREATE TABLE COUPON(
CP_NO 	    VARCHAR2(10)   NOT NULL,
CP_FROM     DATE           NOT NULL,
CP_TO       DATE           NOT NULL,
CP_CONTENT  VARCHAR2(1500) NOT NULL,
CP_DISCOUNT VARCHAR2(10)   NOT NULL,
PDO_NO      VARCHAR2(10),
CP_STATE    VARCHAR2(30)   NOT NULL,
CP_DATE TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
MEM_NO      VARCHAR2(10)   NOT NULL,
PROMO_NO    VARCHAR2(10)   NOT NULL,
CONSTRAINT PK_COUPON PRIMARY KEY (CP_NO)
);

--------------------------------------------------------------------------------
COMMIT;
--新聞種類-------------------------------------------------------------
INSERT INTO NEWS_TYPE VALUES('HN001','房市新聞');
INSERT INTO NEWS_TYPE VALUES('LK002','看屋百科');
INSERT INTO NEWS_TYPE VALUES('GH003','安家百科');


--新聞-----------------------------------------------------------------
CREATE SEQUENCE SEQ_NEWS
INCREMENT BY 1
START WITH 2000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '公告中', 'EM00000001');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO)
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '公告中', 'EM00000002');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租!!', '', '公告中', 'EM00000001');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'LK002', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租!!', '', '已撤銷', 'EM00000001');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '公告中', 'EM00000002');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '已撤銷', 'EM00000003');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租 ', '', '公告中', 'EM00000002');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'HN001', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000002');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000003');
INSERT INTO NEWS (NEWS_NO, NTYPE_NO, NEWS_TITLE, NEWS_CONTENT, NEWS_PHOTO, NEWS_STATE, EMP_NO) 
VALUES('NS'||LPAD(TO_CHAR(SEQ_NEWS.NEXTVAL), 8, '0'), 'GH003', '新北美樂地收復失土樹林添公園', '~~~朱立倫日前視察的樹林鹿角溪公園，曾被占用搭設違建車棚出租', '', '已撤銷', 'EM00000002');


--公告----------------------------------------------------------------------
CREATE SEQUENCE SEQ_ANN
INCREMENT BY 1
START WITH 3000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000002');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000002');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000001');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000001');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000003');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '公告中', 'EM00000001');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000002');
INSERT INTO ANN (ANN_NO, ANN_TITLE, ANN_CONTENT, ANN_STATE, EMP_NO) 
VALUES(SEQ_ANN.NEXTVAL, '我是公告標題今天不開機，系統維修中', '我是公告內容我是公告內容我是公告內容', '已撤銷', 'EM00000003');


--問題種類---------------------------------------------------------------------------
INSERT INTO QA_TYPE VALUES('LOG001', '註冊登入');
INSERT INTO QA_TYPE VALUES('EST002', '如何預約房仲');
INSERT INTO QA_TYPE VALUES('PRO003', '如何購買商品');
INSERT INTO QA_TYPE VALUES('COU004', '優惠卷使用');
INSERT INTO QA_TYPE VALUES('OTH005', '其他問題');


--常見問題-----------------------------------------------------------------------
CREATE SEQUENCE SEQ_QA
INCREMENT BY 1
START WITH 4000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'EST002', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'EST002', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000002');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'COU004', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'LOG001', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'PRO003', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000003');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'OTH005', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000001');
INSERT INTO QA (QA_NO, QATYPE_NO, QA_TITLE, QA_CONTENT, EMP_NO) 
VALUES(SEQ_QA.NEXTVAL, 'PRO003', '登入失敗', '請重新登入請重新登入請重新登入', 'EM00000002');


--促銷活動-----------------------------------------------------------------------
CREATE SEQUENCE SEQ_PRO
INCREMENT BY 1
START WITH 5000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO PROMO (PROMO_NO, PROMO_FROM, PROMO_TO, PROMO_NAME, PROMO_CONTENT, PROMO_PHOTO, PROMO_STATE, EMP_NO) 
VALUES('PRO'||LPAD(TO_CHAR(SEQ_PRO.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '萬聖節房屋', '有裝扮就送大南瓜有裝扮就送大南瓜', '', '已下架', 'EM00000002');
INSERT INTO PROMO (PROMO_NO, PROMO_FROM, PROMO_TO, PROMO_NAME, PROMO_CONTENT, PROMO_PHOTO, PROMO_STATE, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(SEQ_PRO.NEXTVAL), 7, '0'), TO_DATE('20171018', 'YYYY-MM-DD'), TO_DATE('20171025', 'YYYY-MM-DD'), '聖誕節房屋', '有老人就送麋鹿給你去送禮物', '', '已下架', 'EM00000002');
INSERT INTO PROMO (PROMO_NO, PROMO_FROM, PROMO_TO, PROMO_NAME, PROMO_CONTENT, PROMO_PHOTO, PROMO_STATE, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(SEQ_PRO.NEXTVAL), 7, '0'), TO_DATE('20171026', 'YYYY-MM-DD'), TO_DATE('20171102', 'YYYY-MM-DD'), '無修正房屋', '請私，放在已編輯畫面裡面了', '', '已上架', 'EM00000001');
INSERT INTO PROMO (PROMO_NO, PROMO_FROM, PROMO_TO, PROMO_NAME, PROMO_CONTENT, PROMO_PHOTO, PROMO_STATE, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(SEQ_PRO.NEXTVAL), 7, '0'), TO_DATE('20171103', 'YYYY-MM-DD'), TO_DATE('20171110', 'YYYY-MM-DD'), '大放送房屋', '有送有送有送有送有送有送有送有送', '', '未上架', 'EM00000003');
INSERT INTO PROMO (PROMO_NO, PROMO_FROM, PROMO_TO, PROMO_NAME, PROMO_CONTENT, PROMO_PHOTO, PROMO_STATE, EMP_NO)
VALUES('PRO'||LPAD(TO_CHAR(SEQ_PRO.NEXTVAL), 7, '0'), TO_DATE('20171111', 'YYYY-MM-DD'), TO_DATE('20171118', 'YYYY-MM-DD'), '年齡未滿房屋', '1819202122來就送折扣', '', '未上架', 'EM00000001');


--優惠卷(尚未建立)---------------------------------------------------------------------------
CREATE SEQUENCE SEQ_COU
INCREMENT BY 1
START WITH 6000
NOMAXVALUE
NOCYCLE
NOCACHE;

INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000001', '已使用', 'EM00000001', 'PRO0005000');
INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '已使用', 'EM00000004', 'PRO0005001');
INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '已使用', 'EM00000001', 'PRO0005002');
INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000003', '未使用', 'EM00000003', 'PRO0005003');
INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '未使用', 'EM00000002', 'PRO0005002');
INSERT INTO COUPON (CP_NO, CP_FROM, CP_TO, CP_CONTENT, CP_DISCOUNT, PDO_NO, CP_STATE, MEM_NO, PROMO_NO)
VALUES('COU'||LPAD(TO_CHAR(SEQ_COU.NEXTVAL), 7, '0'), TO_DATE('20171010', 'YYYY-MM-DD'), TO_DATE('20171017', 'YYYY-MM-DD'), '有裝扮就送大南瓜有裝扮就送大南瓜', '90', 'OD00000002', '未使用', 'EM00000001', 'PRO0005001');


---------------------------------------------------------------------------
COMMIT;


------------------------------------------------------逵----------------------------------

-----預約看屋紀錄-----
CREATE TABLE RESREC (
 RESR_NO             VARCHAR2(15) PRIMARY KEY NOT NULL,
 MEM_NO              VARCHAR2(10) NOT NULL,
 HOUSE_NO            VARCHAR2(100) NOT NULL,
 RTR_NO              VARCHAR2(10) NOT NULL,
 RESR_ORD            TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 RESR_STATES         VARCHAR2(15) NOT NULL,
 RESR_DATE           DATE,
 RESR_PERIOD         VARCHAR2(12),
 HSE_EVAL            CLOB,
 HSE_REV             CLOB,
 MEM_RATE            NUMBER(2),
 MEM_REV             VARCHAR2(300),
 RTR_RATE            NUMBER(2),
 CONSTRAINT FK_RRHNO FOREIGN KEY (HOUSE_NO) REFERENCES HOUSEINFO(HOUSE_NO),
 CONSTRAINT FK_RRRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR(RTR_NO),
 CONSTRAINT FK_RRMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO)
 );


CREATE SEQUENCE RESR_SEQ;

INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(TO_CHAR(RESR_SEQ.NEXTVAL),5,'0')),'MB00000003','HSE00000001','RT00000004','ESTABLISH',TO_DATE('2017/10/28','YYYY/MM/DD'),'10:00-12:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(TO_CHAR(RESR_SEQ.NEXTVAL),5,'0')),'MB00000002','HSE00000002','RT00000009','ESTABLISH',TO_DATE('2017/10/30','YYYY/MM/DD'),'12:00-14:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(TO_CHAR(RESR_SEQ.NEXTVAL),5,'0')),'MB00000001','HSE00000003','RT00000010','ESTABLISH',TO_DATE('2017/10/29','YYYY/MM/DD'),'14:00-16:00');
INSERT INTO RESREC (RESR_NO, MEM_NO, HOUSE_NO, RTR_NO, RESR_STATES, RESR_DATE, RESR_PERIOD)VALUES ('RR'||TO_CHAR(SYSDATE,'RRMMDD')||'-'||(LPAD(TO_CHAR(RESR_SEQ.NEXTVAL),5,'0')),'MB00000004','HSE00000002','RT00000002','ESTABLISH',TO_DATE('2017/11/01','YYYY/MM/DD'),'18:00-20:00');
--UPDATE RESREC SET RESR_STATES='CONFIRM',HSE_EVAL='{ "地段":"5", "屋齡":"3", "價格":"2" }',HSE_REV='價格有點小貴，屋齡尚可接受，結論:我覺得可以',MEM_RATE='4',MEM_REV='THIS REALTOR IS GOOD.',RTR_RATE='5' WHERE RESR_NO = 'RR171030-00001';
--UPDATE RESREC SET RESR_STATES='CONFIRM',HSE_EVAL='{ "地段":"3", "屋齡":"2", "價格":"1" }',HSE_REV='超級雷，這什麼房子阿，沒想到房子也有照騙阿，超級失望又浪費時間',MEM_RATE='4',MEM_REV='雖然房子雷，但這房仲不錯，找房可以找他',RTR_RATE='5' WHERE RESR_NO = 'RR171030-00004';
--UPDATE RESREC SET RESR_STATES='CANCEL' WHERE RESR_NO = 'RR171030-00003';
COMMIT;

-----收藏房屋-----
CREATE TABLE HSECOLL (
 MEM_NO VARCHAR2(10) NOT NULL,
 HOUSE_NO VARCHAR2(100) NOT NULL, 
 CONSTRAINT PK_HSECOLL PRIMARY KEY (HOUSE_NO,MEM_NO),
 CONSTRAINT FK_HSEHNO FOREIGN KEY (HOUSE_NO) REFERENCES HOUSEINFO(HOUSE_NO),
 CONSTRAINT FK_HSEMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER(MEM_NO)
);

INSERT INTO HSECOLL VALUES('MB00000003','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000004','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000001');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000002');
INSERT INTO HSECOLL VALUES('MB00000002','HSE00000003');
INSERT INTO HSECOLL VALUES('MB00000001','HSE00000002');
INSERT INTO HSECOLL VALUES('MB00000001','HSE00000003');

COMMIT;


-----休息時間-----
CREATE TABLE BREAKTIME(
 RTR_NO VARCHAR2(10) NOT NULL,
 BRK_DATE DATE NOT NULL,
 BRK_PERIOD VARCHAR2(12) NOT NULL,
 CONSTRAINT FK_BTRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR (RTR_NO),
 CONSTRAINT PK_BT PRIMARY KEY (RTR_NO,BRK_DATE,BRK_PERIOD)
);

INSERT INTO BREAKTIME VALUES('RT00000005',TO_DATE('2017-11-04','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000005',TO_DATE('2017-11-04','YYYY/MM/DD'),'14:00-18:00');
INSERT INTO BREAKTIME VALUES('RT00000007',TO_DATE('2017-11-02','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000012',TO_DATE('2017-11-02','YYYY/MM/DD'),'10:00-13:00');
INSERT INTO BREAKTIME VALUES('RT00000010',TO_DATE('2017-11-03','YYYY/MM/DD'),'12:00-15:00');
INSERT INTO BREAKTIME VALUES('RT00000010',TO_DATE('2017-11-05','YYYY/MM/DD'),'12:00-15:00');
COMMIT;


-----房仲即時訊息-----
CREATE TABLE MRMSG(
 MEM_NO VARCHAR2(10) NOT NULL,
 RTR_NO VARCHAR2(10) NOT NULL,
 MR_MSG CLOB,
 MR_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 CONSTRAINT FK_MRMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER (MEM_NO),
 CONSTRAINT FK_MRRNO FOREIGN KEY (RTR_NO) REFERENCES REALTOR (RTR_NO),
 CONSTRAINT PK_MRMSG PRIMARY KEY (MEM_NO,RTR_NO)
);

INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000004','RT00000010','比爾蓋茲:這間房子好像還不錯，請問房仲你可以帶我去看一下嗎?
陳金鋒:當然啦，客官這間房子很熱門喔，這幾天看這間的人很多
比爾蓋茲:是喔!!!那你什麼時候有空呢，我想越快越好
陳金鋒:好的，我看一下，不然我給你看一下我的行事曆看你哪個時間比較適合?
比爾蓋茲: 恩... 那就"11/05 14:00"好了 陳金鋒:OK , 那我們就那天見囉 ^___^');
INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000001','RT00000003','賈伯斯:HI 安安，房仲你好啊!! 林志玲:不好意思，我先去洗澡喔!! 林志玲已離線');
INSERT INTO MRMSG(MEM_NO,RTR_NO,MR_MSG) VALUES ('MB00000001','RT00000012','楊美麗:先生您好，我是XX房仲，我看到你正在找房，我這邊正好有不錯的物件，你要不要參考一下啊!! 賈伯斯:不好意思，我先去洗澡喔!! 賈伯斯已離線');
COMMIT;


-----廠商即時訊息-----
CREATE TABLE MSMSG(
 MEM_NO VARCHAR2(10) NOT NULL,
 SLR_NO VARCHAR2(10) NOT NULL,
 MS_MSG CLOB,
 MS_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
 CONSTRAINT FK_MSMNO FOREIGN KEY (MEM_NO) REFERENCES MEMBER (MEM_NO),
 CONSTRAINT FK_MSSNO FOREIGN KEY (SLR_NO) REFERENCES SELLER (SLR_NO),
 CONSTRAINT PK_MSMSG PRIMARY KEY (MEM_NO,SLR_NO)
);

INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000002','SL00000002','喬丹:ㄟ 明天下午來打籃球阿! 歐德傢俱:好啊，球你帶場你佔，不來算輸 喬丹:槓...又遇到鄉民...');
INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000003','SL00000004','彼得吳:你們的家具品質好，而且出貨速度超快的，我才剛下單喝杯茶你們就送來了呢，真是迅速 詩肯柚木:謝謝您的鼓勵，我們最近採用了最新的JAVA技術，讓我們即時掌握需求');
INSERT INTO MSMSG(MEM_NO,SLR_NO,MS_MSG) VALUES ('MB00000004','SL00000004','比爾蓋茲:你好啊，想請問一下為什麼我訂得傢俱還沒送來呢?
詩肯柚木:先生對不起阿，您訂的家具太高級了，我們不敢有任何損傷，因此採用最安全的方式搬運家具，大概在3個月即可看到我們的工人搬到那了，在這期間請敬請等候');
UPDATE MSMSG SET MS_MSG='喬丹:ㄟ 明天下午來打籃球阿! 歐德傢俱:好啊，球你帶場你佔，不來算輸 喬丹:槓...又遇到鄉民...崩潰',MS_TIME=TO_TIMESTAMP('2017-11-02 10:12:30','YYYY/MM/DD HH:MI:SS') WHERE MEM_NO ='MB00000002' AND SLR_NO = 'SL00000002';
COMMIT;
